# !! mdx

```jsx !page rr
import Content from "./content.mdx"

export default function Page() {
  return <Content />
}
```

```mdx !input c
Hello world

<MyComponent>

The Fellowship of the Ring

## !moria western gate

Speak, friend

</MyComponent>
```

```jsx !output rr
export default function MDXContent() {
  return (
    <>
      <p>Hello world</p>
      <MyComponent>
        <p>The Fellowship of the Ring</p>
        <h2>!moria western gate</h2>
        <p>Speak, friend</p>
      </MyComponent>
    </>
  )
}
```

## !note

Code Hike is mostly an MDX plugin.

# !! mdx

```jsx !page rr
import Content from "./content.mdx"

export default function Page() {
  return <Content />
}
```

```mdx !input l
Hello world

<MyComponent>

The Fellowship of the Ring

## !moria western gate

Speak, friend

</MyComponent>
```

```jsx !output r
export default function MDXContent() {
  return (
    <>
      <p>Hello world</p>
      <MyComponent>
        <p>The Fellowship of the Ring</p>
        <h2>!moria western gate</h2>
        <p>Speak, friend</p>
      </MyComponent>
    </>
  )
}
```

## !note

Code Hike is mostly an MDX plugin.

# !! mdx page

```jsx !page r
import Content from "./content.mdx"

export default function Page() {
  return <Content />
}
```

```mdx !input ll
Hello world

<MyComponent>

The Fellowship of the Ring

## !moria western gate

Speak, friend

</MyComponent>
```

```jsx !output l
export default function MDXContent() {
  return (
    <>
      <p>Hello world</p>
      <MyComponent>
        <p>The Fellowship of the Ring</p>
        <h2>!moria western gate</h2>
        <p>Speak, friend</p>
      </MyComponent>
    </>
  )
}
```

## !note

Code Hike is mostly an MDX plugin.

# !! mdx plugins

```jsx !page rr
import Content from "./content.mdx"

export default function Page() {
  return <Content />
}
```

```mdx !input l
Hello world

<MyComponent>

The Fellowship of the Ring

## !moria western gate

Speak, friend

</MyComponent>
```

```jsx !output r
export default function MDXContent() {
  return (
    <>
      <p>Hello world</p>
      <MyComponent>
        <p>The Fellowship of the Ring</p>
        <h2>!moria western gate</h2>
        <p>Speak, friend</p>
      </MyComponent>
    </>
  )
}
```

## !note

MDX has plugins, and that's what the main part of Code Hike is.

So, after we add the Code Hike plugin...

# !! mdx + ch

{/* prettier-ignore */}
```jsx !page rr
import Content from "./content.mdx"

export default function Page() {
  return <Content 
    components={{ MyComponent }} 
  />
}

function MyComponent(props) {
  return <div />
}
```

```mdx !input l
Hello world

<MyComponent>

The Fellowship of the Ring

## !moria western gate

Speak, friend

</MyComponent>
```

```jsx !output r
export default function MDXContent() {
  return (
    <>
      <p>Hello world</p>
      <MyComponent
        moria={{
          title: "western gate",
          children: <p>Speak, friend</p>,
        }}
      >
        <p>The Fellowship of the Ring</p>
      </MyComponent>
    </>
  )
}
```

## !note

I;ll go fast since this is not a tutorial, the goal here is to give you an idea of what's possible.

# !! lists

```mdx !input l
<MyComponent>

The Fellowship of the Ring

## !moria western gate

Speak, friend

## !!breakfasts first

Apple pancakes

## !!breakfasts second

Mushrooms

</MyComponent>
```

```jsx !output r
export default function MDXContent() {
  return (
    <MyComponent
      moria={{
        title: "western gate",
        children: <p>Speak, friend</p>,
      }}
      breakfasts={[
        {
          title: "first",
          children: <p>Apple pancakes</p>,
        },
        {
          title: "second",
          children: <p>Mushrooms</p>,
        },
      ]}
    >
      <p>The Fellowship of the Ring</p>
    </MyComponent>
  )
}
```

## !note

Code Hike is mostly an MDX plugin.

# !! nesting

```mdx !input l
<MyComponent>

## !!breakfasts first

Apple pancakes

### !recipe

- Cut apples
- Mix batter

## !!breakfasts second

Mushrooms

</MyComponent>
```

```jsx !output r
export default function MDXContent() {
  return (
    <MyComponent
      breakfasts={[
        {
          title: "first",
          children: <p>Apple pancakes</p>,
          recipe: {
            title: "",
            children: (
              <ul>
                <li>Cut apples</li>
                <li>Mix batter</li>
              </ul>
            ),
          },
        },
        {
          title: "second",
          children: <p>Mushrooms</p>,
        },
      ]}
    >
      <p>The Fellowship of the Ring</p>
    </MyComponent>
  )
}
```

## !note

Code Hike is mostly an MDX plugin.

# !! images, codeblocks, and paragraphs

````mdx !input l
<MyComponent>

The Fellowship of the Ring

!author Tolkien

![!cover Gandalf](/gandalf.jpg)

## !moria western gate

Speak, friend

```js !riddle mellon.js
speak("friend")
```

</MyComponent>
````

```jsx !output r
export default function MDXContent() {
  return (
    <MyComponent
      author="Tolkien"
      cover={{
        alt: "Gandalf",
        url: "/gandalf.jpg",
      }}
      moria={{
        title: "western gate",
        children: <p>Speak, friend</p>,
        riddle: {
          lang: "js",
          meta: "mellon.js",
          value: 'speak("friend")',
        },
      }}
    >
      <p>The Fellowship of the Ring</p>
    </MyComponent>
  )
}
```

## !note

Code Hike is mostly an MDX plugin.

# !! schemas

```jsx !output mh
export default function MDXContent() {
  return (
    <MyComponent
      breakfasts={[
        {
          title: "first",
          children: <p>Apple pancakes</p>,
          recipe: {
            title: "",
            children: (
              <ul>
                <li>Cut apples</li>
                <li>Mix batter</li>
              </ul>
            ),
          },
        },
        {
          title: "second",
          children: <p>Mushrooms</p>,
        },
      ]}
    >
      <p>The Fellowship of the Ring</p>
    </MyComponent>
  )
}
```

```jsx !page r
import { z } from "zod"
import { parseProps, Block, CodeBlock,
  ImageBlock } from "codehike/blocks"

const Schema = Block.extend({
  author: z.string(),
  cover: ImageBlock.optional(),
  moria: Block.extend({
    riddle: CodeBlock,
  }),
})

export function MyComponent(props) {
  const data = parseProps(props, Schema)
  ...
}
```

## !note

Code Hike is mostly an MDX plugin.

# !! root

````mdx !input l
The Fellowship of the Ring

!author Tolkien

![!cover Gandalf](/gandalf.jpg)

## !moria western gate

Speak, friend

```js !riddle mellon.js
speak("friend")
```
````

```jsx !output mh
export default function MDXContent() {
  return (
    <MyComponent
      breakfasts={[
        {
          title: "first",
          children: <p>Apple pancakes</p>,
          recipe: {
            title: "",
            children: (
              <ul>
                <li>Cut apples</li>
                <li>Mix batter</li>
              </ul>
            ),
          },
        },
        {
          title: "second",
          children: <p>Mushrooms</p>,
        },
      ]}
    >
      <p>The Fellowship of the Ring</p>
    </MyComponent>
  )
}
```

```jsx !page r
import { z } from "zod"
import { parseRoot, Block, CodeBlock,
  ImageBlock } from "codehike/blocks"

import Content from "./content.md"
const Schema = Block.extend({
  author: z.string(),
  cover: ImageBlock.optional(),
  moria: Block.extend({
    riddle: CodeBlock,
  }),
})

export function Page() {
  const data = parseRoot(Content, Schema)
  ...
}
```

## !note

Code Hike is mostly an MDX plugin.
